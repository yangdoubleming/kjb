(function(e){function t(t){for(var o,i,c=t[0],u=t[1],s=t[2],d=0,l=[];d<c.length;d++)i=c[d],r[i]&&l.push(r[i][0]),r[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);f&&f(t);while(l.length)l.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(o=!1)}o&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var o={},i={app:0},r={app:0},a=[];function c(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-05014422":"6ad997ba","chunk-3d4a9c20":"82580a01","chunk-8a9d9cc6":"7af7e1cc"}[e]+".js"}function u(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-05014422":1,"chunk-3d4a9c20":1,"chunk-8a9d9cc6":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise(function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-05014422":"f05707a6","chunk-3d4a9c20":"a6fa267c","chunk-8a9d9cc6":"af69a816"}[e]+".css",r=u.p+o,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var s=a[c],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===o||d===r))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){s=l[c],d=s.getAttribute("data-href");if(d===o||d===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete i[e],f.parentNode.removeChild(f),n(a)},f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)}).then(function(){i[e]=0}));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise(function(t,n){o=r[e]=[t,n]});t.push(o[2]=a);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=c(e),s=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+o+": "+i+")");a.type=o,a.request=i,n[1](a)}r[e]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:d})},12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},u.m=e,u.c=o,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)u.d(n,o,function(t){return e[t]}.bind(null,o));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var f=d;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"10a0":function(e,t,n){},2844:function(e,t,n){},"41ef":function(e,t,n){},"4bd1":function(e,t,n){"use strict";var o=n("41ef"),i=n.n(o);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],a={name:"App"},c=a,u=n("2877"),s=Object(u["a"])(c,i,r,!1,null,null,null),d=s.exports,l=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-wrapper",class:e.classObj},["mobile"===e.device&&e.sidebar.opened?n("div",{staticClass:"drawer-bg",on:{click:e.handleClickOutside}}):e._e(),n("navbar"),n("div",{staticClass:"content"},[n("sidebar"),n("app-main",{staticStyle:{width:"978px"}})],1),n("Foot")],1)},p=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"head"})},m=[],b=n("cebc"),v=n("2f62"),g={computed:Object(b["a"])({},Object(v["b"])(["sidebar","user"])),methods:{toggleSideBar:function(){this.$store.dispatch("ToggleSideBar")},logout:function(){this.$store.dispatch("LogOut").then(function(){location.reload()})}}},S=g,E=(n("6948"),Object(u["a"])(S,h,m,!1,null,"ff3d8f44",null)),w=E.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"side"},e._l(e.sideData,function(t,o){return n("div",{key:o,staticClass:"item-box"},[n("i",{class:t.icon}),n("span",[e._v(e._s(t.name))])])}),0)},O=[],y={data:function(){return{sideData:[{name:"个人信息",icon:"el-icon-s-custom"},{name:"企业信息",icon:"el-icon-s-home"},{name:"店铺授权",icon:"el-icon-s-shop"},{name:"支付绑定",icon:"el-icon-s-finance"},{name:"产品申请",icon:"el-icon-s-order"},{name:"额度预估",icon:"el-icon-zoom-in"},{name:"申请进度",icon:"el-icon-s-claim"}]}},methods:{}},k=y,T=(n("e8cd"),Object(u["a"])(k,_,O,!1,null,"006e0121",null)),C=T.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},A=[],x={name:"AppMain"},B=x,L=(n("4bd1"),Object(u["a"])(B,j,A,!1,null,"19509b1c",null)),M=L.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"foot"})},D=[],$={methods:{}},I=$,N=(n("d9d4"),Object(u["a"])(I,P,D,!1,null,"69755d71",null)),R=N.exports,U=n("a78e"),G=n.n(U),F={state:{sidebar:{opened:!+G.a.get("sidebarStatus"),withoutAnimation:!1},device:"desktop"},mutations:{TOGGLE_SIDEBAR:function(e){e.sidebar.opened?G.a.set("sidebarStatus",1):G.a.set("sidebarStatus",0),e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1},CLOSE_SIDEBAR:function(e,t){G.a.set("sidebarStatus",1),e.sidebar.opened=!1,e.sidebar.withoutAnimation=t},TOGGLE_DEVICE:function(e,t){e.device=t}},actions:{ToggleSideBar:function(e){var t=e.commit;t("TOGGLE_SIDEBAR")},CloseSideBar:function(e,t){var n=e.commit,o=t.withoutAnimation;n("CLOSE_SIDEBAR",o)},ToggleDevice:function(e,t){var n=e.commit;n("TOGGLE_DEVICE",t)}}},z=F,J=n("bc3a"),q=n.n(J),H=n("5c96"),V=n.n(H),K="http://api.dousha8ao.com";function Q(){return JSON.parse(localStorage.getItem("user"))}function W(e){localStorage.setItem("user",JSON.stringify(e))}function X(){localStorage.removeItem("user")}var Y=q.a.create({withCredentials:!0,baseURL:K,timeout:1e5});Y.interceptors.request.use(function(e){return e.headers["Content-Type"]="application/json; charset=UTF-8",ue.getters.user&&(e.headers["token"]=Q().token),e},function(e){console.log(e),Promise.reject(e)}),Y.interceptors.response.use(function(e){var t=e.data;return console.log("response",t),0!==t.code?(3!==t.code&&"登录异常，请重新登录"!==t.msg||H["MessageBox"].confirm("你已被登出，可以取消继续留在该页面，或者重新登录","确定登出",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then(function(){ue.dispatch("FedLogOut").then(function(){location.reload()})}),Promise.reject(e.data)):e.data},function(e){return console.log("err"+e),Object(H["Message"])({message:e.msg,type:"error",duration:5e3}),Promise.reject(e)});var Z=Y;function ee(e,t){return Z({url:"/user/login",method:"post",data:{telephone:e,password:t}})}function te(e){return Z({url:"/user/menus",method:"get"})}function ne(){return Z({url:"/user/logout",method:"post"})}var oe={state:{user:Q(),menus:{}},mutations:{SET_USER:function(e,t){e.user=t},SET_MENUS:function(e,t){e.menus=t}},actions:{Login:function(e,t){var n=e.commit,o=t.username.trim();return new Promise(function(e,i){ee(o,t.password).then(function(t){W(t),n("SET_USER",t),e()}).catch(function(e){i(e)})})},GetMenus:function(e){var t=e.commit;e.state;return new Promise(function(e,n){te(Q().token).then(function(n){t("SET_MENUS",n),e(n)}).catch(function(e){n(e)})})},LogOut:function(e){var t=e.commit,n=e.state;return new Promise(function(e,o){ne(n.token).then(function(){t("SET_USER",""),t("SET_MENUS",{}),X(),e()}).catch(function(e){o(e)})})},FedLogOut:function(e){var t=e.commit;return new Promise(function(e){t("SET_USER",""),X(),e()})}}},ie=oe,re={sidebar:function(e){return e.app.sidebar},device:function(e){return e.app.device},user:function(e){return e.user.user},menus:function(e){return e.user.menus}},ae=re;o["default"].use(v["a"]);var ce=new v["a"].Store({modules:{app:z,user:ie},getters:ae}),ue=ce,se=document,de=se.body,le=1024,fe=3,pe={watch:{$route:function(e){"mobile"===this.device&&this.sidebar.opened&&ue.dispatch("CloseSideBar",{withoutAnimation:!1})}},beforeMount:function(){window.addEventListener("resize",this.resizeHandler)},mounted:function(){var e=this.isMobile();e&&(ue.dispatch("ToggleDevice","mobile"),ue.dispatch("CloseSideBar",{withoutAnimation:!0}))},methods:{isMobile:function(){var e=de.getBoundingClientRect();return e.width-fe<le},resizeHandler:function(){if(!document.hidden){var e=this.isMobile();ue.dispatch("ToggleDevice",e?"mobile":"desktop"),e&&ue.dispatch("CloseSideBar",{withoutAnimation:!0})}}}},he={name:"layout",components:{Navbar:w,Sidebar:C,AppMain:M,Foot:R},mixins:[pe],computed:{sidebar:function(){return this.$store.state.app.sidebar},device:function(){return this.$store.state.app.device},classObj:function(){return{hideSidebar:!this.sidebar.opened,openSidebar:this.sidebar.opened,withoutAnimation:this.sidebar.withoutAnimation,mobile:"mobile"===this.device}}},methods:{handleClickOutside:function(){this.$store.dispatch("CloseSideBar",{withoutAnimation:!1})}}},me=he,be=(n("572b"),Object(u["a"])(me,f,p,!1,null,"88525eb2",null)),ve=be.exports;o["default"].use(l["a"]);var ge=[{path:"/login",component:function(){return n.e("chunk-05014422").then(n.bind(null,"9ed6"))},hidden:!0},{path:"/404",component:function(){return n.e("chunk-3d4a9c20").then(n.bind(null,"8cdb"))},hidden:!0},{path:"/",component:ve,redirect:"/login",name:"login",hidden:!0,children:[{path:"login",component:function(){return n.e("chunk-05014422").then(n.bind(null,"9ed6"))}}]},{path:"/login",component:ve,children:[{path:"login",name:"login",component:function(){return n.e("chunk-05014422").then(n.bind(null,"9ed6"))},meta:{title:"login"}}]},{path:"/center",component:ve,children:[{path:"personalInfo",name:"personalInfo",component:function(){return n.e("chunk-8a9d9cc6").then(n.bind(null,"f03d"))},meta:{title:"个人信息"}}]}],Se=new l["a"]({mode:"history",scrollBehavior:function(){return{y:0}},routes:ge}),Ee=(n("0fae"),n("be35"),n("b20f"),n("c69f"),n("323e")),we=n.n(Ee),_e=(n("a5d8"),["/login"]);Se.beforeEach(function(e,t,n){we.a.start(),Q()?ue.getters.user?n():(H["Message"].error("登录异常，请重新登录"),ue.dispatch("FedLogOut").then(function(){n({path:"/login"})})):-1!==_e.indexOf(e.path)?n():(e.path,n("/login"))}),Se.afterEach(function(){we.a.done()}),o["default"].use(V.a),o["default"].config.productionTip=!1,new o["default"]({router:Se,store:ue,render:function(e){return e(d)}}).$mount("#app")},"572b":function(e,t,n){"use strict";var o=n("ede4"),i=n.n(o);i.a},6948:function(e,t,n){"use strict";var o=n("2844"),i=n.n(o);i.a},"9ad8":function(e,t,n){},b20f:function(e,t,n){},be35:function(e,t,n){},c69f:function(e,t,n){},d9d4:function(e,t,n){"use strict";var o=n("10a0"),i=n.n(o);i.a},e8cd:function(e,t,n){"use strict";var o=n("9ad8"),i=n.n(o);i.a},ede4:function(e,t,n){}});